{"version":3,"sources":["components/SearchBar.js","components/ResultsContainer.js","components/NominationsContainer.js","components/Banner.js","App.js","index.js"],"names":["SearchBar","queryTerm","term","className","onSubmit","e","preventDefault","htmlFor","id","name","value","type","placeholder","onChange","target","ResultsContainer","results","addNomination","nominations","length","map","movie","Title","Year","onClick","imdbID","NominationsContainer","removeNomination","Object","keys","movieId","Banner","App","useState","JSON","parse","localStorage","getItem","setNominations","setResults","setTerm","searchTerm","a","fetch","process","response","json","data","useEffect","setItem","stringify","enumerable","nominationId","newNominations","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sOA2BeA,EApBG,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,UAAWC,EAAU,EAAVA,KAE7B,OACE,yBAASC,UAAU,kBAAnB,SACE,uBAAMC,SAAU,SAACC,GAAD,OAAOA,EAAEC,kBAAzB,UACE,uBAAOC,QAAQ,cAAf,yBACA,uBACEC,GAAG,cACHC,KAAK,cACLC,MAAOR,EACPS,KAAK,OACLR,UAAU,oBACVS,YAAY,uBACZC,SAAU,SAAAR,GAAC,OAAIJ,EAAUI,EAAES,OAAOJ,gBCU7BK,EAvBU,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,QAASd,EAAsC,EAAtCA,KAAMe,EAAgC,EAAhCA,cAAeC,EAAiB,EAAjBA,YAExD,OACE,0BAASf,UAAU,eAAnB,UACE,6BAAKD,EAAKiB,OAAS,EAAd,uBAAkCjB,EAAlC,KAA2C,oBAChD,oBAAIC,UAAU,aAAd,SAEIa,EAAQI,KAAI,SAACC,GAAD,OACV,qBAAIlB,UAAU,kBAAd,oBAAuDkB,EAAMC,MAA7D,aAAuED,EAAME,KAA7E,KACE,wBACEC,QAAS,kBAAMP,EAAcI,IAC7BlB,UAAWkB,EAAMI,UAAUP,EAAc,WAAa,GAFxD,wBADmCG,EAAMI,iBCSxCC,EAjBc,SAAC,GAAuC,IAArCR,EAAoC,EAApCA,YAAaS,EAAuB,EAAvBA,iBAC3C,OACE,0BAASxB,UAAU,mBAAnB,UACE,6CACA,oBAAIA,UAAU,aAAd,SAEIyB,OAAOC,KAAKX,GAAaE,KAAI,SAACU,GAAD,OAC3B,qBAAI3B,UAAU,kBAAd,oBAAkDe,EAAYY,GAASR,MAAvE,aAAiFJ,EAAYY,GAASP,KAAtG,KACE,wBAAQC,QAAS,kBAAMG,EAAiBG,IAAxC,sBADmCA,YCKlCC,G,MAbA,SAAC,GAAqB,IAAnBb,EAAkB,EAAlBA,YAChB,OAAGU,OAAOC,KAAKX,GAAaC,QAAU,EAElC,yBAAShB,UAAU,cAAnB,SACE,gEAIG,OCyEI6B,EA9EH,WAAO,IAAD,EACsBC,mBACpCC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAmB,IAFrC,mBACTnB,EADS,KACIoB,EADJ,OAIcL,mBAAS,IAJvB,mBAITjB,EAJS,KAIAuB,EAJA,OAKQN,mBAAS,IALjB,mBAKT/B,EALS,KAKHsC,EALG,KAYVvC,EAAS,uCAAG,WAAOwC,GAAP,iBAAAC,EAAA,yDAChBF,EAAQC,KAELA,EAAWtB,OAAS,GAHP,gCAISwB,MAAM,6BAAD,OAA8BzC,EAA9B,mBAA6C0C,WAA7C,uBAJd,cAIRC,EAJQ,gBAKKA,EAASC,OALd,OAOU,UAFlBC,EALQ,QAOP,UACLR,EAAWQ,EAAI,QARH,2CAAH,sDA2Cf,OAJAC,qBAAU,WACRZ,aAAaa,QAAQ,cAAef,KAAKgB,UAAUhC,MAClD,CAACA,IAGF,uBAAMf,UAAU,YAAhB,UAEE,cAAC,EAAD,CAAQe,YAAaA,IACrB,8CACA,cAAC,EAAD,CACEjB,UAAWA,EACXC,KAAMA,IAER,cAAC,EAAD,CACEc,QAASA,EACTd,KAAMA,EACNe,cArCgB,SAACI,GAEfA,EAAMI,UAAUP,GACpBoB,EAAe,2BACVpB,GADS,kBAEXG,EAAMI,OAFK,YAAC,eAEOJ,GAFR,IAEe8B,YAAY,QAiCvCjC,YAAaA,IAEf,cAAC,EAAD,CACEA,YAAaA,EACbS,iBA5BmB,SAACyB,GACxB,IAAIC,EAAiBnC,SACdmC,EAAeD,GACtBd,EAAe,eAAIe,WCpDvBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.fafeb2a0.chunk.js","sourcesContent":["import React from 'react';\n\n/**\n * Live search bar component that queries OMDB on input change\n * @param {function} queryTerm - function that queries the term\n * @param {string} term - search term in input box\n */\nconst SearchBar = ({queryTerm, term}) => {\n\n  return (\n    <section className=\"card search-bar\">\n      <form onSubmit={(e) => e.preventDefault()}>\n        <label htmlFor=\"search-term\">Movie title</label>\n        <input\n          id=\"search-term\"\n          name=\"search-term\"\n          value={term}\n          type=\"text\"\n          className=\"search-bar__input\"\n          placeholder=\"Please enter a title\"\n          onChange={e => queryTerm(e.target.value)}\n        />\n      </form>\n    </section>\n  );\n};\n\nexport default SearchBar;","import React from 'react';\n/**\n * \n * @param {array} results\n * @param {string} term\n * @param {function} changeNomination\n */\nconst ResultsContainer = ({ results, term, addNomination, nominations}) => {\n\n  return (\n    <section className=\"card results\">\n      <h2>{term.length > 0 ? `Results for \"${term}\"`: \" Search Results\"}</h2>\n      <ul className=\"card__list\">\n        {\n          results.map((movie) => (\n            <li className=\"card__list-item\" key={movie.imdbID}>{`${movie.Title} (${movie.Year})`}\n              <button \n                onClick={() => addNomination(movie)}\n                className={movie.imdbID in nominations ? \"disabled\" : \"\"}\n              >\n                  Nominate\n              </button>\n            </li>\n          ))\n        }\n      </ul>\n    </section>\n  );\n};\n\nexport default ResultsContainer;","import React from 'react';\n/**\n * \n * @param {array} results\n * @param {string} term\n * @param {function} changeNomination\n */\nconst NominationsContainer = ({ nominations, removeNomination }) => {\n  return (\n    <section className=\"card nominations\">\n      <h2>Nominations</h2>\n      <ul className=\"card__list\">\n        {\n          Object.keys(nominations).map((movieId) => (\n            <li className=\"card__list-item\" key={movieId}>{`${nominations[movieId].Title} (${nominations[movieId].Year})`}\n              <button onClick={() => removeNomination(movieId)}>Remove</button>\n            </li>\n          ))\n        }\n      </ul>\n    </section>\n  );\n};\n\nexport default NominationsContainer;","import React from 'react';\n\n/**\n * Banner Component that displays when there are 5 nominations\n * @param {Object} nominations\n */\nconst Banner = ({ nominations }) => {\n  if(Object.keys(nominations).length >= 5){\n    return (\n      <section className=\"card banner\">\n        <p>5 Nominations have been made!</p>\n      </section>\n    );\n  } else {\n    return null;\n  }\n\n};\n\nexport default Banner;","import React, { useState, useEffect } from 'react';\nimport SearchBar from './components/SearchBar';\nimport ResultsContainer from './components/ResultsContainer';\nimport NominationsContainer from './components/NominationsContainer';\n\nimport './App.scss';\nimport Banner from './components/Banner';\n\n\nconst App = () => {\n  const [nominations, setNominations] = useState(\n    JSON.parse(localStorage.getItem('nominations')) || {}\n  );\n  const [results, setResults] = useState([]);\n  const [term, setTerm] = useState('');\n\n\n  /**\n   * Queries the term entered in the search bar\n   * @param {string} searchTerm \n   */\n  const queryTerm = async (searchTerm) => {\n    setTerm(searchTerm);\n    // only search if an input exists\n    if(searchTerm.length > 0) {\n      const response = await fetch(`http://www.omdbapi.com/?s=${term}&apikey=${process.env.REACT_APP_OMDB_API_KEY}&type=movie&page=1`);\n      const data = await response.json();\n      \n      if(data[\"Response\"] === \"True\") {\n        setResults(data[\"Search\"]);\n      }\n\n    }\n  }\n  \n  /**\n   * Adds a movie to the nominations list\n   * @param {Object} nomination \n   */\n  const addNomination = (movie) => {\n    // check if nomination exists in the nomination list first\n    if (!(movie.imdbID in nominations)) {\n      setNominations({ \n        ...nominations,\n        [movie.imdbID]: {...movie, enumerable: true }\n      });\n    }\n  }\n\n  /**\n   * removes a movie from the nomination list based on movieId \n   * @param {string} nominationId \n   */\n  const removeNomination = (nominationId) => {\n    let newNominations = nominations;\n    delete newNominations[nominationId];\n    setNominations({...newNominations});\n  }\n\n  // Save nominations to local storage everytime its updated\n  useEffect(() => {\n    localStorage.setItem('nominations', JSON.stringify(nominations));\n  }, [nominations]);\n\n  return (\n    <main className=\"container\">\n      \n      <Banner nominations={nominations}/>\n      <h1>The Shoppies</h1>\n      <SearchBar\n        queryTerm={queryTerm}\n        term={term}\n      />\n      <ResultsContainer\n        results={results}\n        term={term}\n        addNomination={addNomination}\n        nominations={nominations}\n      />\n      <NominationsContainer\n        nominations={nominations}\n        removeNomination={removeNomination}\n      />\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}